# Wallarm Node - Обновление 2.4

## Изменения в системе

* Добавлена поддержка формата `view state`. `view state` – способ
  хранения данных о состоянии страницы в скрытом поле формы на самой странице.
  Теперь Валарм может парсить незашифрованные данные `view state`, что
  обеспечивает более гибкую работу с .NET-приложениями и позволяет создавать
  точные правила блокировки. Это обеспечивает больше защиты для подопечных
  .NET-приложений.

* Добавлена интеграция с библиотекой libdetection.
  [libdetection](https://github.com/wallarm/libdetection) – разработанный
  Валарм продукт с открытым исходным кодом. Продукт позволяет реализовывать
  собственные парсеры для защиты от injection-атак. Такой подход обеспечивает
  большую гибкость по сравнению с традиционными методами обнаружения атак при
  помощи регулярных выражений. libdetection позволяет выполнять несигнатурное
  обнаружение.

* [ЛОМ](../glossary-en.md#лом) теперь имеет новый формат, который уменьшает потребление памяти для
  хранения правил фильтрации.

* Реализовано управление парсерами для отдельных параметров. Теперь при
  описании структуры можно указать обязательные парсеры параметра, режим
  «чёрного списка» в котором разрешены парсеры, кроме явно запрещённых,
  а также режим «белого списка», в котором запрещены все парсеры кроме
  перечисленных. Новая структура обеспечивает более строгий контроль.

  Также можно указать обязательный парсер для отдельного параметра. Если этот парсер не сможет обработать указанный параметр, то Валарм определит параметр как невалидный.

* Улучшен алгоритм обнаружения атак перебора.

* Улучшено потребление памяти модулем NGINX-Wallarm. Улучшение производительности может достигать 30%.

!!! warning "Потребление памяти при первом использовании"
    После обновления WAF‑ноды на версию 2.4, но до загрузки нового ЛОМ, потребление памяти модулем NGINX-Wallarm может увеличиться больше обычного.
    
    Потребление памяти значительно снизится после загрузки нового ЛОМ.
